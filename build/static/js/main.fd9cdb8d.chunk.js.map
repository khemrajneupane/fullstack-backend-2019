{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Persons.js","services/Persons.js","App.js","index.js"],"names":["Input","_ref","text","inputValue","handler","react_default","a","createElement","value","onChange","Button","_ref2","type","PersonForm","_ref3","onSubmit","nameInputChanged","numberInputChanged","newName","newNumber","PersonForm_Input","PersonForm_Button","Filter","handlePersonsSearch","Persons","persons","foundPerson","typeSearch","deleteList","map","person","key","id","name","number","onClick","baseUrl","services_Persons","axios","get","then","response","data","newObject","post","put","concat","personId","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setTypeSearch","_useState9","_useState10","setFoundPersons","_useState11","_useState12","message","setMessage","_useState13","_useState14","errorMessage","setErrorMessage","setNullMessage","setTimeout","useEffect","personsServices","className","components_Filter","event","target","personsSearched","filter","toLowerCase","includes","components_PersonForm","preventDefault","nameStyle","charAt","toUpperCase","slice","length","toLocaleLowerCase","ifTrue","indexOf","thisPerson","r","window","confirm","location","reload","components_Persons","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.fd9cdb8d.chunk.js","sourcesContent":["import React from \"react\";\r\nexport const Input = ({ text, inputValue, handler }) => {\r\n  return (\r\n    <div>\r\n      {text}: <input value={inputValue} onChange={handler} />\r\n    </div>\r\n  );\r\n};\r\nconst Button = ({ type, text }) => {\r\n  return <button type={type}>{text}</button>;\r\n};\r\n\r\nconst PersonForm = ({\r\n  onSubmit,\r\n  nameInputChanged,\r\n  numberInputChanged,\r\n  newName,\r\n  newNumber\r\n}) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Input text=\"name\" inputValue={newName} handler={nameInputChanged} />\r\n      <Input\r\n        text=\"number\"\r\n        inputValue={newNumber}\r\n        handler={numberInputChanged}\r\n      />\r\n      <Button type=\"submit\" text=\"add\" />\r\n    </form>\r\n  );\r\n};\r\nexport default PersonForm;\r\n","import React from \"react\";\r\nimport { Input } from \"./PersonForm\";\r\n\r\nconst Filter = ({ value, handlePersonsSearch }) => {\r\n  return (\r\n    <Input\r\n      text=\"filter shown with\"\r\n      inputValue={value}\r\n      handler={handlePersonsSearch}\r\n    />\r\n  );\r\n};\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ persons, foundPerson, typeSearch, deleteList }) => {\r\n  const rows = () =>\r\n    typeSearch === \"\"\r\n      ? persons.map(person => (\r\n          <li key={person.id}>\r\n            {person.name} {person.number}\r\n            <button onClick={() => deleteList(person)}>delete</button>\r\n          </li>\r\n        ))\r\n      : foundPerson.map(persons => (\r\n          <li>\r\n            {persons.name} {persons.number}\r\n          </li>\r\n        ));\r\n  return <ul>{rows()}</ul>;\r\n};\r\nexport default Persons;\r\n","import axios from \"axios\";\r\n\r\n//const baseUrl = \"https://fullstack-open-2019.herokuapp.com/api/persons\";\r\nconst baseUrl = \"http://localhost:3001/api/persons\";\r\n/**After build version added to the backend file, the url can be as follow */\r\n//const baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst deleteList = personId => {\r\n  const request = axios.delete(`${baseUrl}/${personId}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deleteList };\r\n","import React, { useState, useEffect } from \"react\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./components/Persons\";\nimport personsServices from \"./services/Persons\";\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(0);\n  const [typeSearch, setTypeSearch] = useState(\"\");\n  const [foundPerson, setFoundPersons] = useState([]);\n  const [message, setMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const setNullMessage = () => {\n    setTimeout(() => {\n      setMessage(null);\n      setErrorMessage(null);\n    }, 5000);\n  };\n  const Notification = ({ message, errorMessage }) => {\n    if (message === null || errorMessage != null) {\n      return <div className=\"errorMessage\">{errorMessage}</div>;\n    } else if (message != null || errorMessage === null) {\n      return <div className=\"message\">{message}</div>;\n    }\n  };\n\n  useEffect(() => {\n    personsServices.getAll().then(response => {\n      setPersons(response);\n    });\n  }, []);\n\n  const addName = event => {\n    event.preventDefault();\n    const newObject = {\n      name: newName,\n      number: newNumber,\n      id: null\n    };\n    const nameStyle = `${newObject.name\n      .charAt(0)\n      .toUpperCase()}${newObject.name\n      .slice(1, newObject.name.length)\n      .toLocaleLowerCase()}`;\n    const check = persons.map(a => a.name.indexOf(newObject.name));\n    const ifTrue = check.indexOf(0) > -1;\n\n    if (newObject.name !== \"\" && newObject.number !== \"\") {\n      if (ifTrue && newObject.number !== \"\") {\n        const thisPerson = persons.filter(\n          person => person.name === newObject.name\n        )[0];\n\n        newObject.id = thisPerson.id;\n        let r = window.confirm(\n          `${\n            thisPerson.name\n          } is already added to phonebook, replace the old number with a new one?`\n        );\n\n        if (r === true) {\n          personsServices.update(thisPerson.id, newObject);\n\n          const value = persons.filter(person => person.id !== thisPerson.id);\n          setPersons(value.concat(newObject));\n\n          setMessage(`Updated ${nameStyle}'s phone number successfully`);\n          setNullMessage();\n        } else if (r === false) {\n          setMessage(`${nameStyle}'s phone number has not been changed`);\n          setNullMessage();\n\n          return;\n        }\n      } else if (ifTrue && newObject.number === \"\") {\n        setPersons(persons);\n\n        setMessage(`${nameStyle}'s phone number has not been supplied`);\n        setNullMessage();\n      } else if (ifTrue === false && newObject.number !== \"\") {\n        personsServices.create(newObject);\n\n        setPersons(persons.concat(newObject));\n        setTimeout(() => window.location.reload(true), 0);\n\n        setMessage(`Added ${nameStyle}`);\n        setNullMessage();\n      } else if (ifTrue === false && newObject.number === \"\") {\n        setPersons(persons);\n\n        setMessage(`${nameStyle}'s phone number is missing`);\n        setNullMessage();\n      }\n    } else {\n      setMessage(\"Name and Number fields are required!\");\n      setNullMessage();\n    }\n  };\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n  const handlePersonsSearch = event => {\n    setTypeSearch(event.target.value);\n    const personsSearched = persons.filter(person =>\n      person.name.toLowerCase().includes(event.target.value.toLowerCase())\n    );\n    setFoundPersons(personsSearched);\n  };\n\n  const deleteList = person => {\n    const { id, name } = person;\n    let r = window.confirm(`delete ${name} ?`);\n    if (r === true) {\n      personsServices.deleteList(id).catch(error => {\n        setErrorMessage(\n          `Information of ${name} has been removed from the server.`\n        );\n        setNullMessage();\n      });\n      setPersons(persons.filter(person => person.id !== id));\n      setMessage(`${name}'s entry has been erased`);\n      setNullMessage();\n    } else if (r === false) {\n      setMessage(`${name}'s entry has not been erased`);\n      setNullMessage();\n      return;\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {message != null || errorMessage != null ? (\n        <Notification message={message} errorMessage={errorMessage} />\n      ) : null}\n\n      <Filter handlePersonsSearch={handlePersonsSearch} />\n      <h2>add a new</h2>\n      <PersonForm\n        onSubmit={addName}\n        nameInputChanged={handleNameChange}\n        numberInputChanged={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        foundPerson={foundPerson}\n        typeSearch={typeSearch}\n        deleteList={deleteList}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}